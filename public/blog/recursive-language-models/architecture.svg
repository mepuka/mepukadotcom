<svg xmlns="http://www.w3.org/2000/svg" width="853.6594" height="1242.5" viewBox="0 0 853.6594 1242.5"><rect x="0" y="0" width="853.6594" height="1242.5" fill="#FFFFFF"/><defs><marker id="arrow-0" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="1" stroke-dasharray="1,0"/></marker><marker id="arrow-start-0" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="1" stroke-dasharray="1,0"/></marker></defs><rect x="150.92" y="191.00" width="519.40" height="423.40" rx="10" ry="10" fill="#f8f7f4" stroke="#1e3a4f" stroke-width="1" /><text x="410.62" y="219.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="410.62" dy="0.00">RLM ENGINE</tspan></text><rect x="297.04" y="633.00" width="481.12" height="304.70" rx="10" ry="10" fill="#f0e8e4" stroke="#8b6a4a" stroke-width="1" /><text x="537.60" y="661.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="537.60" dy="0.00">VARIABLE SPACE —</tspan><tspan x="537.60" dy="24.00">Sandbox Heap</tspan></text><rect x="8.00" y="1013.00" width="788.11" height="172.00" rx="10" ry="10" fill="#e8f4f0" stroke="#4a8b7c" stroke-width="1" /><text x="402.06" y="1041.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="402.06" dy="0.00">TOKEN SPACE — LLM</tspan><tspan x="402.06" dy="24.00">Context Window</tspan></text><path d="M 256.842,309.000L 256.842,309.500C256.842,310.000,256.842,311.000,256.842,312.000C256.842,313.000,256.842,314.000,256.342,314.500C255.842,315.000,254.842,315.000,238.943,315.000C223.045,315.000,192.247,315.000,174.848,315.000C157.449,315.000,153.449,315.000,151.449,317.000C149.449,319.000,149.449,323.000,149.449,436.333C149.449,549.667,149.449,772.333,149.449,885.667C149.449,999.000,149.449,1003.000,151.449,1005.000C153.449,1007.000,157.449,1007.000,199.050,1007.000C240.651,1007.000,319.853,1007.000,359.954,1007.000C400.055,1007.000,401.055,1007.000,401.555,1007.500C402.055,1008.000,402.055,1009.000,402.055,1010.000C402.055,1011.000,402.055,1012.000,402.055,1012.500L 402.055,1013.000" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="70.26" y="634.80" width="158.37" height="52.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="149.45" y="653.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="149.45" dy="0.00">&quot;1. Build prompt</tspan><tspan x="149.45" dy="24.00">from transcript&quot;</tspan></text><path d="M 402.055,1183.000L 402.055,1182.500C402.055,1182.000,402.055,1181.000,402.055,1180.000C402.055,1179.000,402.055,1178.000,402.555,1177.500C403.055,1177.000,404.055,1177.000,475.989,1177.000C547.923,1177.000,690.791,1177.000,764.225,1177.000C837.659,1177.000,841.659,1177.000,843.659,1175.000C845.659,1173.000,845.659,1169.000,845.659,1071.567C845.659,974.133,845.659,783.267,845.659,685.833C845.659,588.400,845.659,584.400,843.659,582.400C841.659,580.400,837.659,580.400,764.710,580.400C691.761,580.400,549.862,580.400,478.413,580.400C406.964,580.400,405.964,580.400,405.464,579.900C404.964,579.400,404.964,578.400,404.964,577.400C404.964,576.400,404.964,575.400,404.964,574.900L 404.964,574.400" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="701.66" y="643.82" width="130.36" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="766.84" y="662.02" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="766.84" dy="0.00">&quot;2. Generate&quot;</tspan></text><path d="M 564.964,574.400L 564.964,575.858C564.964,577.317,564.964,580.233,564.964,583.150C564.964,586.067,564.964,588.983,563.714,591.192C562.463,593.401,559.963,594.903,539.673,607.085C519.383,619.268,481.303,642.132,461.013,654.315C440.723,666.497,438.222,667.999,436.972,670.208C435.722,672.417,435.722,675.333,435.722,678.250C435.722,681.167,435.722,684.083,435.722,685.542L 435.722,687.000" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="440.54" y="604.86" width="158.37" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="519.73" y="623.06" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="519.73" dy="0.00">&quot;3a. Code block&quot;</tspan></text><path d="M 480.400,726.000L 481.858,726.000C483.317,726.000,486.233,726.000,489.150,726.000C492.067,726.000,494.983,726.000,496.093,727.416C497.204,728.832,496.507,731.665,491.418,752.365C486.329,773.066,476.847,811.634,471.757,832.335C466.668,853.035,465.972,855.868,467.082,857.284C468.192,858.700,471.109,858.700,474.025,858.700C476.942,858.700,479.859,858.700,481.317,858.700L 482.775,858.700" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="411.74" y="778.15" width="139.70" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="481.59" y="796.35" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="481.59" dy="0.00">&quot;read / write&quot;</tspan></text><path d="M 355.722,687.000L 355.722,685.542C355.722,684.083,355.722,681.167,355.722,678.250C355.722,675.333,355.722,672.417,357.180,670.958C358.638,669.500,361.555,669.500,363.039,669.500C364.523,669.500,364.575,669.500,366.085,669.500C367.595,669.500,370.564,669.500,372.048,668.016C373.532,666.532,373.532,663.563,373.532,608.397C373.532,553.230,373.532,445.865,373.532,390.182C373.532,334.500,373.532,330.500,371.532,328.500C369.532,326.500,365.532,326.500,352.875,326.500C340.219,326.500,318.906,326.500,306.791,326.500C294.676,326.500,291.759,326.500,290.301,325.042C288.842,323.583,288.842,320.667,288.842,317.750C288.842,314.833,288.842,311.917,288.842,310.458L 288.842,309.000" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="250.07" y="496.79" width="111.69" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="305.92" y="514.99" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="305.92" dy="0.00">&quot;4. Output&quot;</tspan></text><path d="M 352.842,309.000L 352.842,310.721C352.842,312.443,352.842,315.886,352.842,318.136C352.842,320.386,352.842,321.443,352.314,321.971C351.785,322.500,350.728,322.500,350.200,322.500C349.671,322.500,349.671,322.500,349.143,322.500C348.614,322.500,347.557,322.500,347.029,321.971C346.500,321.443,346.500,320.386,346.500,311.719C346.500,303.053,346.500,286.776,346.500,276.638C346.500,266.500,346.500,262.500,344.500,260.500C342.500,258.500,338.500,258.500,284.500,258.500C230.500,258.500,126.500,258.500,72.500,258.500C18.500,258.500,14.500,258.500,12.500,260.500C10.500,262.500,10.500,266.500,10.500,427.167C10.500,587.833,10.500,905.167,10.500,1065.833C10.500,1226.500,10.500,1230.500,12.500,1232.500C14.500,1234.500,18.500,1234.500,120.500,1234.500C222.500,1234.500,422.500,1234.500,524.500,1234.500C626.500,1234.500,630.500,1234.500,632.500,1232.500C634.500,1230.500,634.500,1226.500,634.500,1194.979C634.500,1163.458,634.500,1104.416,634.500,1074.416C634.500,1044.416,634.500,1043.458,634.021,1042.979C633.542,1042.500,632.584,1042.500,632.104,1042.500C631.625,1042.500,631.625,1042.500,631.146,1042.500C630.667,1042.500,629.709,1042.500,629.230,1042.979C628.751,1043.458,628.751,1044.416,628.751,1048.500C628.751,1052.583,628.751,1059.792,628.751,1063.396L 628.751,1067.000" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="8.12" y="1174.70" width="111.69" height="52.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="63.97" y="1192.90" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="63.97" dy="0.00">&quot;append to</tspan><tspan x="63.97" dy="24.00">transcript&quot;</tspan></text><path d="M 371.722,687.000L 371.722,630.375C371.722,573.750,371.722,460.500,371.722,401.875C371.722,343.250,371.722,339.250,369.722,337.250C367.722,335.250,363.722,335.250,357.242,335.250C350.762,335.250,341.802,335.250,335.322,335.250C328.842,335.250,324.842,335.250,322.842,333.250C320.842,331.250,320.842,327.250,320.842,322.875C320.842,318.500,320.842,313.750,320.842,311.375L 320.842,309.000" fill="none" stroke="#2F3B4D" stroke-width="2"   stroke-dasharray="2" stroke-linecap="round" stroke-linejoin="round" /><rect x="186.65" y="558.24" width="167.71" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="270.50" y="576.44" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="270.50" dy="0.00">&quot;3b. llm_query()&quot;</tspan></text><path d="M 224.842,309.000L 224.842,310.458C224.842,311.917,224.842,314.833,224.842,317.750C224.842,320.667,224.842,323.583,226.133,325.721C227.423,327.859,230.004,329.217,234.950,331.821C239.896,334.425,247.208,338.275,252.154,340.879C257.100,343.483,259.681,344.841,260.971,346.979C262.262,349.117,262.262,352.033,262.262,354.950C262.262,357.867,262.262,360.783,262.262,362.242L 262.262,363.700" fill="none" stroke="#2F3B4D" stroke-width="2"   stroke-dasharray="2" stroke-linecap="round" stroke-linejoin="round" /><rect x="210.36" y="449.94" width="139.70" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="280.20" y="468.14" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="280.20" dy="0.00">&quot;check budget&quot;</tspan></text><path d="M 343.608,402.700L 319.774,402.700C295.941,402.700,248.274,402.700,222.441,402.700C196.608,402.700,192.608,402.700,190.608,404.700C188.608,406.700,188.608,410.700,188.608,430.817C188.608,450.933,188.608,487.167,188.608,507.283C188.608,527.400,188.608,531.400,190.608,533.400C192.608,535.400,196.608,535.400,230.774,535.400C264.941,535.400,329.274,535.400,361.441,535.400L 393.608,535.400" fill="none" stroke="#2F3B4D" stroke-width="2"   stroke-dasharray="2" stroke-linecap="round" stroke-linejoin="round" /><rect x="34.07" y="462.35" width="102.36" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="85.25" y="480.55" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="85.25" dy="0.00">&quot;sub-call&quot;</tspan></text><path d="M 628.964,574.400L 628.964,598.242C628.964,622.083,628.964,669.767,628.964,695.608C628.964,721.450,628.964,725.450,626.964,727.450C624.964,729.450,620.964,729.450,596.090,729.450C571.217,729.450,525.469,729.450,500.595,729.450C475.722,729.450,471.722,729.450,469.722,727.450C467.722,725.450,467.722,721.450,467.722,714.375C467.722,707.300,467.722,697.150,467.722,692.075L 467.722,687.000" fill="none" stroke="#2F3B4D" stroke-width="2"   stroke-dasharray="2" stroke-linecap="round" stroke-linejoin="round" /><rect x="506.50" y="715.25" width="83.69" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="548.34" y="733.45" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="548.34" dy="0.00">&quot;result&quot;</tspan></text><path d="M 516.964,496.400L 516.964,494.942C516.964,493.483,516.964,490.567,516.964,487.650C516.964,484.733,516.964,481.817,515.506,480.358C514.047,478.900,511.131,478.900,501.884,478.900C492.638,478.900,477.063,478.900,467.275,478.900C457.487,478.900,453.487,478.900,451.487,476.900C449.487,474.900,449.487,470.900,449.487,427.833C449.487,384.767,449.487,302.633,449.487,259.567C449.487,216.500,449.487,212.500,447.487,210.500C445.487,208.500,441.487,208.500,402.719,208.500C363.951,208.500,290.415,208.500,252.189,208.500C213.963,208.500,211.046,208.500,209.588,207.042C208.130,205.583,208.130,202.667,208.130,199.750C208.130,196.833,208.130,193.917,208.130,192.458L 208.130,191.000" fill="none" stroke="#2F3B4D" stroke-width="2"    stroke-linecap="round" stroke-linejoin="round" /><rect x="327.01" y="194.30" width="167.71" height="28.40" rx="2" ry="2" fill="rgba(248,250,252, 0.92)" fill-opacity="0.95" stroke="#7B88A8" stroke-opacity="0.45" stroke-width="0.8"/><text x="410.86" y="212.50" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="410.86" dy="0.00">&quot;3c. SUBMIT tool&quot;</tspan></text><rect x="180.92" y="363.70" width="162.69" height="78.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="262.26" y="394.70" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="262.26" dy="0.00">Budget</tspan><tspan x="262.26" dy="24.00">Atomic Refs</tspan></text><rect x="393.61" y="496.40" width="246.71" height="78.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="516.96" y="527.40" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="516.96" dy="0.00">LLM Provider</tspan><tspan x="516.96" dy="24.00">(Anthropic · OpenAI)</tspan></text><rect x="38.00" y="1067.00" width="172.03" height="54.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="124.01" y="1098.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="124.01" dy="0.00">Observations</tspan></text><rect x="139.22" y="128.00" width="137.83" height="63.00" rx="31.50" ry="31.50" fill="#4a8b7c" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="208.13" y="151.50" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#fff"><tspan x="208.13" dy="0.00">Final Output</tspan><tspan x="208.13" dy="24.00">771 KB</tspan></text><rect x="327.04" y="687.00" width="153.36" height="78.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="403.72" y="718.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="403.72" dy="0.00">Bun.spawn</tspan><tspan x="403.72" dy="24.00">Subprocess</tspan></text><rect x="195.70" y="231.00" width="186.29" height="78.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="288.84" y="262.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="288.84" dy="0.00">Scheduler</tspan><tspan x="288.84" dy="24.00">Command Queue</tspan></text><rect x="260.03" y="1067.00" width="181.36" height="54.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="350.71" y="1098.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="350.71" dy="0.00">System Prompt</tspan></text><rect x="491.39" y="1067.00" width="274.72" height="78.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="628.75" y="1098.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="628.75" dy="0.00">Transcript</tspan><tspan x="628.75" dy="24.00">(code + output history)</tspan></text><rect x="482.78" y="819.70" width="265.38" height="78.00" rx="3" ry="3" fill="#fff" stroke="#1e3a4f" stroke-width="1" stroke-linejoin="round" stroke-linecap="round"/><text x="615.47" y="850.70" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#1e3a4f"><tspan x="615.47" dy="0.00">__vars</tspan><tspan x="615.47" dy="24.00">{records, claims, ...}</tspan></text><g transform="translate(402.06 1013.00) rotate(90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(404.96 574.40) rotate(-90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(435.72 687.00) rotate(90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(480.40 726.00) rotate(0.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(482.78 858.70) rotate(0.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(288.84 309.00) rotate(-90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(628.75 1067.00) rotate(90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(320.84 309.00) rotate(-90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(262.26 363.70) rotate(90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(393.61 535.40) rotate(0.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(467.72 687.00) rotate(90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g><g transform="translate(208.13 191.00) rotate(-90.00)"><polygon points="0,0 -10.40,6.24 -10.40,-6.24" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/></g></svg>